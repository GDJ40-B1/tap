<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.btf.tap.mapper.HostMapper">
	<resultMap type="com.btf.tap.vo.Host" id="resultHost">
		<result column="host_id" property="hostId"/>
		<result column="host_pw" property="hostPw"/>
		<result column="host_age" property="hostAge"/>
		<result column="host_phone" property="hostPhone"/>
		<result column="host_name" property="hostName"/>
		<result column="business_number" property="businessNumber"/>
		<result column="approval_status" property="approvalStatus"/>
		<result column="host_point" property="hostPoint"/>
		<result column="create_date" property="createDate"/>
		<result column="update_date" property="updateDate"/>
	</resultMap>
	
	<!-- 호스트 한 명의 정보 불러오기 -->
	<select id="selectHostOne" resultMap="resultHost" parameterType="com.btf.tap.vo.Host" >
		SELECT 
			host_id,
			host_name,
			host_age,
			host_phone,
			business_number,
			approval_status,
			host_point,
			create_date,
			update_date
		FROM
			host
		WHERE
			host_id=#{hostId}
	</select>
	
	<!-- 호스트 전체 목록 불러오기 -->
	<select id="selectHostList" resultMap="resultHost" parameterType="com.btf.tap.vo.Host" >
		SELECT 
			host_id,
			host_name,
			host_age,
			host_phone,
			business_number,
			approval_status,
			host_point,
			create_date,
			update_date
		FROM
			host
	</select>
	
	<!-- 호스트 비밀번호 확인하기(수정용) -->
	<select id="selectHostPw" parameterType="com.btf.tap.vo.Host" resultType="int" >
		SELECT 
			COUNT(*)
		FROM
			host
		WHERE
			host_id=#{hostId} AND
			host_pw=#{hostPw}
	</select>
	
	<!--  새로운 호스트 한 명 등록하기 -->
	<insert id="insertHostOne" parameterType="com.btf.tap.vo.Host">
		INSERT INTO
			host(
				host_id, 
				host_pw,
				host_age,
				host_name,
				host_phone,
				business_number,
				approval_status,
				host_point,
				create_date,
				update_date 
			)
		VALUES (
			#{hostId},
			#{hostPw},
			#{hostAge},
			#{hostName},
			#{hostPhone},
			#{businessNumber},
			'Y',
			0,
			NOW(),
			NOW()
		)
	</insert>
	
	<!-- 호스트 한 명의 정보를 수정(나이,이름, 전화번호 ) -->
	<update id="updateHostOne" parameterType="com.btf.tap.vo.Host">
		UPDATE
			host
		SET
			host_age=#{hostAge},
			host_name=#{hostName},
			host_phone=#{hostPhone},
			update_date=NOW()
		WHERE
			host_id=#{hostId}
	</update>
	
	<!-- 호스트 한 명의 정보를 수정(포인트) -->
	<update id="updateHostPoint" parameterType="com.btf.tap.vo.Host">
		UPDATE
			host
		SET
			host_point=#{hostPoint},
			update_date=NOW()
		WHERE
			host_id=#{hostId}
	</update>
	
	<!-- 호스트 한 명의 정보를 수정(비밀번호) -->
	<update id="updateHostPw" parameterType="com.btf.tap.vo.Host">
		UPDATE
			host
		SET
			host_pw=#{hostPw},
			update_date=NOW()
		WHERE
			host_id=#{hostId}
	</update>
	
	<!-- 호스트 한 명의 정보를 삭제 -->
	<delete id="deleteHostOne" parameterType="com.btf.tap.vo.Host">
		DELETE FROM
			host
		WHERE
			host_id=#{hostId} AND
			host_pw=#{hostPw}
	</delete>

</mapper>